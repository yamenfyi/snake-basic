!function(e){function t(t){for(var r,u,i=t[0],s=t[1],l=t[2],f=0,p=[];f<i.length;f++)u=i[f],o[u]&&p.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={0:0},a=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/snake-basic/";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=s;a.push([12,1]),n()}({11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),u=n.n(a),i=n(1),s=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h={left:37,up:38,right:39,down:40},b=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=f(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?d(r):a).boardRef=o.a.createRef(),n.getInitialState=n.getInitialState.bind(d(d(n))),n.getStartIndex=n.getStartIndex.bind(d(d(n))),n.getNumRows=n.getNumRows.bind(d(d(n))),n.getNumCols=n.getNumCols.bind(d(d(n))),n.getCellSize=n.getCellSize.bind(d(d(n))),n.resume=n.resume.bind(d(d(n))),n.pause=n.pause.bind(d(d(n))),n.reset=n.reset.bind(d(d(n))),n.tick=n.tick.bind(d(d(n))),n.handleKey=n.handleKey.bind(d(d(n))),n.state=n.getInitialState(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.timerId=setInterval(function(){return e.setState(e.tick)},this.getSpeed()),this.resume()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"getInitialState",value:function(){var e=this.getStartIndex(),t=[],n=[e];return t[e]=1,{snake:n,food:-1,board:t,paused:!0,gameOver:!1,direction:h.right}}},{key:"getStartIndex",value:function(){return this.props.startIndex||20}},{key:"getNumRows",value:function(){return this.props.numRows||20}},{key:"getNumCols",value:function(){return this.props.numCols||20}},{key:"getCellSize",value:function(){return this.props.cellSize||30}},{key:"getSpeed",value:function(){return this.props.speed||100}},{key:"resume",value:function(){this.setState(function(e){return e.gameOver||!e.paused?null:{paused:!1}}),this.boardRef.current.focus()}},{key:"pause",value:function(){this.setState(function(e){return e.gameOver||e.paused?null:{paused:!0}})}},{key:"reset",value:function(){this.setState(this.getInitialState()),this.resume()}},{key:"tick",value:function(e){if(e.gameOver||e.paused)return null;var t,n,r,o=this.getNumRows(),a=this.getNumCols(),u=e.board.slice(),i=e.snake.slice(),s=e.food,l=i[0];switch(u[l=function(e,t,n,r){var o=e%r,a=Math.floor(e/r);switch(t){case h.up:a=a<=0?n-1:a-1;break;case h.down:a=a>=n-1?0:a+1;break;case h.left:o=o<=0?r-1:o-1;break;case h.right:o=o>=r-1?0:o+1;break;default:return}return r*a+o}(l,e.direction,o,a)]){case 1:return{gameOver:!0};case 2:u[l]=1,i.unshift(l),s=-1;break;default:u[l]=1,u[i[i.length-1]]=null,i.pop(),i.unshift(l)}if(-1===s)for(var c=0;c<500;c++){var f=(t=0,n=o*a,r=void 0,r=Math.random()*(n-t)+t,Math.floor(r));if(2!==u[f]&&1!==u[f]){u[f]=2,s=f;break}}if(-1===s)throw new Error("Failed to generate new food position after 500 retries.");return{snake:i,food:s,board:u}}},{key:"handleKey",value:function(e){var t=e.keyCode;switch(t){case h.left:case h.up:case h.right:case h.down:this.setState(function(e){return Math.abs(t-e.direction)%2!=0?{direction:t}:null})}}},{key:"render",value:function(){for(var e=[],t=this.getNumRows(),n=this.getNumCols(),r=this.getCellSize(),a=0;a<t;a++)for(var u=0;u<n;u++){var i=this.state.board[n*a+u],s=1==i?"body":2==i?"food":"null";e.push(o.a.createElement("div",{className:s+"-cell",key:a*n+u}))}return o.a.createElement("div",{className:"snake-game"},o.a.createElement("h1",{className:"snake-score"},"Length: ",this.state.snake.length),o.a.createElement("div",{className:"snake-board"+(this.state.gameOver?" game-over":""),ref:this.boardRef,tabIndex:0,onBlur:this.pause,onFocus:this.resume,onKeyDown:this.handleKey,onTouchMove:this.handleTouchMove,style:{width:n*r,height:t*r}},e),o.a.createElement("div",{className:"snake-controls"},this.state.paused?o.a.createElement("button",{onClick:this.resume},"Resume"):null,this.state.gameOver?o.a.createElement("button",{onClick:this.reset},"New Game"):null))}}])&&c(n.prototype,r),a&&c(n,a),t}();b.propTypes={startIndex:s.a.number,numRows:s.a.number,numCols:s.a.number,cellSize:s.a.number,speed:s.a.number};var y=b;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,w(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(y,null)}}])&&v(n.prototype,a),u&&v(n,u),t}();n(11);u.a.render(o.a.createElement(S,null),document.getElementById("app"))}});
//# sourceMappingURL=main.684e64029b414708a1a0.js.map